<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC êµì‚¬ ìƒë‹´ ë„êµ¬ - ìµœì‹  ì—…ê·¸ë ˆì´ë“œ ë²„ì „</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ì´ë¯¸ì§€ ì €ì¥ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- PDF ì €ì¥ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        
        /* CSS ë³€ìˆ˜ë¡œ ìƒ‰ìƒ ê´€ë¦¬ */
        :root {
            --color-stage1: #d1fae5;
            --color-stage1-dark: #065f46;
            --color-stage2: #dbeafe;
            --color-stage2-dark: #1e40af;
            --color-stage3: #ede9fe;
            --color-stage3-dark: #5b21b6;
            --color-stage4: #ffedd5;
            --color-stage4-dark: #9a3412;
            --color-stage5: #fef3c7;
            --color-stage5-dark: #92400e;
            --color-stage6: #f3e8ff;
            --color-stage6-dark: #6b21a8;
        }
        
        .step-card {
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        .step-card.active {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }

        /* ğŸ†• ì„ íƒëœ ê³ ë¯¼ ì§€ì† í‘œì‹œ ì‹œìŠ¤í…œ */
        .selected-worry-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            box-shadow: 0 4px 20px rgba(14, 165, 233, 0.15);
            transform: translateY(0);
            opacity: 0;
            animation: slideDown 0.5s ease-out forwards;
            position: relative;
            overflow: hidden;
        }

        .selected-worry-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #0ea5e9, #06b6d4);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .worry-content {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 16px;
            margin-top: 12px;
        }

        .category-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(14, 165, 233, 0.1);
            color: #0c4a6e;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .auto-classified-badge {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        /* ë‹¨ê³„ë³„ ë„¤ë¹„ê²Œì´ì…˜ - ğŸ¨ UI ê°œì„  */
        .step-nav {
            display: flex;
            justify-content: space-between;
            margin-bottom: 24px;
            gap: 8px;
            flex-wrap: wrap;
            background: white;
            padding: 16px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }
        
        .step-btn {
            flex: 1;
            min-width: 120px;
            padding: 12px 8px;
            text-align: center;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-size: 0.85rem;
            position: relative;
            overflow: hidden;
        }
        
        .step-btn.active {
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .step-btn.completed {
            opacity: 0.9;
        }
        
        .step-btn.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .step1-btn { 
            background: linear-gradient(135deg, var(--color-stage1) 0%, #a7f3d0 100%); 
            color: var(--color-stage1-dark); 
        }
        .step1-btn.active { border-color: #059669; }
        
        .step2-btn { 
            background: linear-gradient(135deg, var(--color-stage2) 0%, #93c5fd 100%); 
            color: var(--color-stage2-dark); 
        }
        .step2-btn.active { border-color: #3b82f6; }
        
        .step3-btn { 
            background: linear-gradient(135deg, var(--color-stage3) 0%, #c4b5fd 100%); 
            color: var(--color-stage3-dark); 
        }
        .step3-btn.active { border-color: #8b5cf6; }
        
        .step4-btn { 
            background: linear-gradient(135deg, var(--color-stage4) 0%, #fed7aa 100%); 
            color: var(--color-stage4-dark); 
        }
        .step4-btn.active { border-color: #f97316; }
        
        .step5-btn { 
            background: linear-gradient(135deg, var(--color-stage5) 0%, #fde68a 100%); 
            color: var(--color-stage5-dark); 
        }
        .step5-btn.active { border-color: #f59e0b; }
        
        .step6-btn { 
            background: linear-gradient(135deg, var(--color-stage6) 0%, #e9d5ff 100%); 
            color: var(--color-stage6-dark); 
        }
        .step6-btn.active { border-color: #8b5cf6; }

        /* ABC ì¹´ë“œ ì‹œê°í™” - ğŸ¨ UI ê°œì„  */
        .abc-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 24px 0;
        }
        
        .abc-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .abc-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .abc-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
        }
        
        .abc-card:hover::before {
            width: 8px;
        }
        
        .abc-a::before { background: linear-gradient(180deg, #ef4444, #dc2626); }
        .abc-b::before { background: linear-gradient(180deg, #f59e0b, #d97706); }
        .abc-c::before { background: linear-gradient(180deg, #3b82f6, #2563eb); }
        
        .abc-label {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .abc-a .abc-label { color: #dc2626; }
        .abc-b .abc-label { color: #d97706; }
        .abc-c .abc-label { color: #2563eb; }
        
        .abc-example {
            background: rgba(255, 255, 255, 0.8);
            padding: 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: #6b7280;
            font-style: italic;
            margin-top: 12px;
            border-left: 3px solid currentColor;
        }

        /* ì²´í¬ë¦¬ìŠ¤íŠ¸ ê°œì„  - ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì ìš© */
        .checklist-section {
            background: rgba(139, 92, 246, 0.03);
            border: 2px solid rgba(139, 92, 246, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            transition: all 0.3s ease;
        }

        .checklist-section:hover {
            border-color: rgba(139, 92, 246, 0.2);
            background: rgba(139, 92, 246, 0.05);
            transform: translateY(-2px);
        }

        .checklist-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            flex-wrap: wrap;
            gap: 12px;
        }

        .checklist-title {
            font-weight: bold;
            color: #7c3aed;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .apply-btn {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
            white-space: nowrap;
        }

        .apply-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(139, 92, 246, 0.4);
        }

        .apply-btn.help-apply {
            background: linear-gradient(135deg, #06b6d4, #67e8f9);
            box-shadow: 0 4px 12px rgba(6, 182, 212, 0.3);
        }

        .apply-btn.help-apply:hover {
            box-shadow: 0 8px 24px rgba(6, 182, 212, 0.4);
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            border-radius: 10px;
            transition: all 0.2s ease;
            margin-bottom: 6px;
            cursor: pointer;
        }
        
        .checklist-item:hover {
            background: rgba(139, 92, 246, 0.05);
            transform: translateX(4px);
        }
        
        .checklist-item input[type="checkbox"] {
            margin: 0;
            width: 18px;
            height: 18px;
            margin-top: 2px;
            cursor: pointer;
            accent-color: #8b5cf6;
        }
        
        .checklist-item label {
            flex: 1;
            cursor: pointer;
            line-height: 1.5;
            color: #4b5563;
            font-size: 0.95rem;
        }

        /* ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜ ì•ˆë‚´ */
        .smart-classification {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .smart-classification::before {
            content: 'ğŸ¤–';
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 2.5rem;
            opacity: 0.7;
        }

        .category-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 16px;
        }

        .category-tag {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .category-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* ì•Œë¦¼ ì‹œìŠ¤í…œ - í–¥ìƒëœ í† ìŠ¤íŠ¸ */
        .notification {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            padding: 16px 24px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(16, 185, 129, 0.4);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1000;
            max-width: 320px;
            backdrop-filter: blur(10px);
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.error {
            background: linear-gradient(135deg, #ef4444, #f87171);
        }

        .notification.warning {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
        }

        /* ê°ì • ë²„íŠ¼ ê°œì„  */
        .emotion-btn {
            transition: all 0.3s ease;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 16px;
            cursor: pointer;
        }
        
        .emotion-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            border-color: #10b981;
        }
        
        .emotion-btn.selected {
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
            border-color: #10b981;
        }
        
        /* ìƒí™© ì¹´ë“œ ê°œì„  */
        .situation-card {
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 20px;
        }
        
        .situation-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);
            border-color: #3b82f6;
        }
        
        .situation-card.selected {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-color: #3b82f6;
            box-shadow: 0 12px 32px rgba(59, 130, 246, 0.2);
        }

        /* ê³ ë¯¼ ì¹´ë“œ ê°œì„  */
        .worry-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 20px;
            text-center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .worry-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);
            border-color: #3b82f6;
        }

        .worry-card.selected {
            border-color: #3b82f6;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        }

        /* ê°œì„ ëœ ë©”ì‹œì§€ ì¹´ë“œ */
        .message-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid #f59e0b;
            border-radius: 16px;
            position: relative;
            overflow: hidden;
        }

        .message-card::before {
            content: 'âœ¨';
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 2rem;
            opacity: 0.7;
        }

        /* ğŸ†• ê¸€ììˆ˜ ì¹´ìš´í„° ìŠ¤íƒ€ì¼ */
        .character-counter {
            text-align: right;
            margin-top: 4px;
            font-size: 0.75rem;
            transition: color 0.3s ease;
        }

        /* ğŸ†• ë¯¸ë¦¬ë³´ê¸° ê°œì„  ìŠ¤íƒ€ì¼ */
        .advice-preview-enhanced {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 20px;
            margin-top: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .completeness-bar {
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 8px;
        }

        .completeness-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #34d399);
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        /* ğŸ†• ì¸ì‡„ ìµœì í™” CSS */
        @media print {
            body {
                font-size: 12pt;
                line-height: 1.3;
                color: #000;
                background: white;
            }
            
            .step-nav,
            .fixed,
            button,
            .notification,
            .no-print {
                display: none !important;
            }
            
            .step-card {
                page-break-inside: avoid;
                margin-bottom: 20px;
                border: 1px solid #ccc;
                box-shadow: none;
                background: white;
            }
            
            .selected-worry-card {
                page-break-inside: avoid;
                border: 2px solid #0ea5e9;
                background: #f0f9ff;
                margin-bottom: 15px;
            }
            
            .advice-preview-enhanced {
                page-break-inside: avoid;
                border: 1px solid #ddd;
                background: #f8f9fa;
                margin: 15px 0;
            }
            
            .checklist-section {
                page-break-inside: avoid;
                border: 1px solid #ddd;
                background: #f9f9ff;
                margin: 10px 0;
            }
            
            h1, h2, h3 {
                page-break-after: avoid;
            }
            
            .final-result-container {
                page-break-inside: avoid;
            }
            
            /* ê·¸ë¼ë””ì–¸íŠ¸ ìƒ‰ìƒì„ ë‹¨ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
            .bg-gradient-to-r {
                background: #e3f2fd !important;
            }
        }

        /* ï¿½ìƒˆ ìº¡ì²˜ìš© ìŠ¤íƒ€ì¼ */
        .capture-container {
            background: white;
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ ê°œì„  */
        @media (max-width: 768px) {
            .step-nav {
                flex-direction: column;
                gap: 8px;
                padding: 12px;
            }
            
            .step-btn {
                font-size: 0.8rem;
                padding: 10px 8px;
                min-width: auto;
            }

            .abc-preview {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .checklist-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .apply-btn {
                width: 100%;
            }

            .selected-worry-card {
                padding: 16px;
                margin-bottom: 20px;
            }

            .category-badge {
                font-size: 0.8rem;
                padding: 4px 10px;
            }
        }

        /* ì ‘ê·¼ì„± ê°œì„  */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* í¬ì»¤ìŠ¤ ê°œì„  */
        .step-btn:focus,
        .emotion-btn:focus,
        .situation-card:focus,
        .worry-card:focus {
            outline: 3px solid #3b82f6;
            outline-offset: 2px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        /* ë‹¤í¬ëª¨ë“œ ëŒ€ì‘ ì¤€ë¹„ */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-primary: #1f2937;
                --text-primary: #f9fafb;
            }
        }

        /* ğŸ†• ë¡œë”© ìŠ¤í”¼ë„ˆ */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 8px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- í—¤ë” -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">ğŸŒŸ ABC êµì‚¬ ìƒë‹´ ë„êµ¬</h1>
            <p class="text-lg text-gray-600">í•™ìƒì´ ì„ ìƒë‹˜ì˜ ê³ ë¯¼ì„ ë“£ê³  ì¡°ì–¸í•˜ë©° í•¨ê»˜ í•´ê²°ì±…ì„ ì°¾ëŠ” ë˜ë˜ ìƒë‹´ ì„œë¹„ìŠ¤</p>
            <div class="mt-3 text-sm bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 inline-block px-4 py-2 rounded-full border border-blue-200">
                âœ¨ ğŸ†• ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° & ì´ë¯¸ì§€/PDF ì €ì¥ & ì¸ì‡„ ìµœì í™” ê¸°ëŠ¥ í¬í•¨
            </div>
        </div>

        <!-- ğŸ¨ ê°œì„ ëœ ë‹¨ê³„ë³„ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="step-nav no-print" role="navigation" aria-label="ìƒë‹´ ë‹¨ê³„">
            <button class="step-btn step1-btn active" data-step="1" aria-current="step">
                1ï¸âƒ£ ê¸°ë³¸ì •ë³´<br>
                <span class="text-xs opacity-75">ì´ë¦„ ì…ë ¥</span>
            </button>
            <button class="step-btn step2-btn disabled" data-step="2">
                2ï¸âƒ£ ê³ ë¯¼ì„ íƒ<br>
                <span class="text-xs opacity-75">ìƒí™© íŒŒì•…</span>
            </button>
            <button class="step-btn step3-btn disabled" data-step="3">
                3ï¸âƒ£ ABCì •ë¦¬<br>
                <span class="text-xs opacity-75">êµ¬ì¡°ì  ë¶„ì„</span>
            </button>
            <button class="step-btn step4-btn disabled" data-step="4">
                4ï¸âƒ£ ê°ì •ê³µê°<br>
                <span class="text-xs opacity-75">ë§ˆìŒ ì´í•´</span>
            </button>
            <button class="step-btn step5-btn disabled" data-step="5">
                5ï¸âƒ£ í•™ìƒì¡°ì–¸<br>
                <span class="text-xs opacity-75">ê²½í—˜ ê³µìœ </span>
            </button>
            <button class="step-btn step6-btn disabled" data-step="6">
                6ï¸âƒ£ ê²©ë ¤ì™„ì„±<br>
                <span class="text-xs opacity-75">ì‘ì› ë©”ì‹œì§€</span>
            </button>
        </nav>

        <!-- ğŸ†• ì„ íƒëœ ê³ ë¯¼ ì§€ì† í‘œì‹œ ì¹´ë“œ (3ë‹¨ê³„ë¶€í„°) -->
        <div class="selected-worry-card hidden" id="selectedWorryCard" role="region" aria-label="ì„ íƒëœ ê³ ë¯¼ ì •ë³´">
            <div class="flex items-center justify-between mb-3">
                <h3 class="text-lg font-bold text-sky-800 flex items-center gap-2">
                    ğŸ“‹ ì„ íƒëœ ê³ ë¯¼ ì •ë³´
                </h3>
                <div class="flex gap-2">
                    <span class="category-badge" id="categoryBadge">
                        ğŸ“š ìˆ˜ì—… ì°¸ì—¬
                    </span>
                    <span class="category-badge auto-classified-badge hidden" id="autoClassifiedBadge">
                        ğŸ¤– ìë™ë¶„ë¥˜
                    </span>
                </div>
            </div>
            <div class="worry-content">
                <p class="text-gray-800 font-medium" id="worryContentText">
                    ì„ íƒëœ ê³ ë¯¼ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                </p>
                <div class="mt-3 text-sm text-gray-600" id="worryDetails">
                    <span class="font-semibold">í•™ìƒ:</span> <span id="displayStudentName">-</span> |
                    <span class="font-semibold">ì„ ìƒë‹˜:</span> <span id="displayTeacherName">-</span>
                </div>
            </div>
        </div>

        <!-- ë‹¨ê³„ 1: ê¸°ë³¸ ì •ë³´ ì…ë ¥ -->
        <div class="step-card active border-2 rounded-lg p-6 mb-6" id="step1">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">1ï¸âƒ£ ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
            <div class="grid md:grid-cols-2 gap-4">
                <div>
                    <label for="studentName" class="block text-sm font-medium text-gray-700 mb-2">ğŸ‘¦ ìƒë‹´í•˜ëŠ” í•™ìƒ ì´ë¦„</label>
                    <input type="text" id="studentName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="ê¹€ë¯¼ìˆ˜" autocomplete="name">
                </div>
                <div>
                    <label for="teacherName" class="block text-sm font-medium text-gray-700 mb-2">ğŸ‘©â€ğŸ« ìƒë‹´ë°›ëŠ” ì„ ìƒë‹˜ ì´ë¦„</label>
                    <input type="text" id="teacherName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="ì´ì˜í¬ ì„ ìƒë‹˜" autocomplete="name">
                </div>
            </div>
            <div class="mt-6 text-right">
                <button onclick="nextStep(1)" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
            </div>
        </div>

        <!-- ë‹¨ê³„ 2: ê³ ë¯¼ ì„ íƒ -->
        <div class="step-card border-2 rounded-lg p-6 mb-6 hidden" id="step2">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">2ï¸âƒ£ ì„ ìƒë‹˜ì˜ ê³ ë¯¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
            
            <!-- ğŸ¨ ABC ì¹´ë“œ ì‹œê°í™” ë¯¸ë¦¬ë³´ê¸° -->
            <div class="abc-preview">
                <div class="abc-card abc-a">
                    <div class="abc-label">
                        ğŸ…°ï¸ ì‚¬ì‹¤ (Facts)
                        <span class="text-xs bg-red-100 px-2 py-1 rounded-full">ë¬´ìŠ¨ ì¼ì´?</span>
                    </div>
                    <p class="text-sm text-gray-600">ì‹¤ì œë¡œ ì¼ì–´ë‚œ êµ¬ì²´ì ì¸ ìƒí™©</p>
                    <div class="abc-example">
                        ì˜ˆ: "ìˆ˜ì—… ì¤‘ í•™ìƒë“¤ì´ ë– ë“¤ì—ˆë‹¤"
                    </div>
                </div>
                
                <div class="abc-card abc-b">
                    <div class="abc-label">
                        ğŸ…±ï¸ ìƒê° (Beliefs)
                        <span class="text-xs bg-yellow-100 px-2 py-1 rounded-full">ì–´ë–¤ ìƒê°?</span>
                    </div>
                    <p class="text-sm text-gray-600">ê·¸ë•Œ ë“  ìƒê°ì´ë‚˜ ë¯¿ìŒ</p>
                    <div class="abc-example">
                        ì˜ˆ: "ë‚´ ìˆ˜ì—…ì´ ì¬ë¯¸ì—†ë‚˜ë³´ë‹¤"
                    </div>
                </div>
                
                <div class="abc-card abc-c">
                    <div class="abc-label">
                        ğŸ…²ï¸ ê²°ê³¼ (Consequences)
                        <span class="text-xs bg-blue-100 px-2 py-1 rounded-full">ì–´ë–¤ ê²°ê³¼?</span>
                    </div>
                    <p class="text-sm text-gray-600">ë‚˜íƒ€ë‚œ ê°ì •ì´ë‚˜ í–‰ë™</p>
                    <div class="abc-example">
                        ì˜ˆ: "ì†ìƒí•˜ê³  ìì‹ ê°ì´ ë–¨ì–´ì§„ë‹¤"
                    </div>
                </div>
            </div>

            <!-- ğŸ¤– ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜ ì•ˆë‚´ -->
            <div class="smart-classification">
                <h3 class="font-semibold text-sky-700 mb-2">ğŸ¤– ìŠ¤ë§ˆíŠ¸ ìë™ ë¶„ë¥˜ ì‹œìŠ¤í…œ</h3>
                <p class="text-sm text-gray-600 mb-2">
                    ê³ ë¯¼ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ìë™ìœ¼ë¡œ ì í•©í•œ ì¹´í…Œê³ ë¦¬ë¥¼ ì°¾ì•„ ë§ì¶¤í˜• ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤!
                </p>
                <div class="category-tags">
                    <span class="category-tag bg-green-100 text-green-700">ğŸ“š ìˆ˜ì—… ì°¸ì—¬</span>
                    <span class="category-tag bg-blue-100 text-blue-700">ğŸ‘¥ í•™ê¸‰ ê´€ë¦¬</span>
                    <span class="category-tag bg-purple-100 text-purple-700">ğŸ“– í•™ìŠµ ì§€ë„</span>
                    <span class="category-tag bg-orange-100 text-orange-700">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ í•™ë¶€ëª¨ ê´€ê³„</span>
                    <span class="category-tag bg-red-100 text-red-700">ğŸ’¼ ì—…ë¬´ ìŠ¤íŠ¸ë ˆìŠ¤</span>
                </div>
            </div>
            
            <!-- ì¹´í…Œê³ ë¦¬ ì„ íƒ -->
            <div id="categorySelection">
                <h3 class="text-lg font-medium mb-3 text-gray-700">ë¨¼ì € ê³ ë¯¼ ë¶„ì•¼ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</h3>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6" id="worryCategories">
                    <!-- ê³ ë¯¼ ì¹´í…Œê³ ë¦¬ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- êµ¬ì²´ì  ìƒí™© ì„ íƒ -->
            <div id="situationSelection" class="hidden">
                <div class="flex items-center mb-4">
                    <button onclick="backToCategories()" class="text-blue-500 hover:text-blue-600 mr-3">â† ë¶„ì•¼ ë‹¤ì‹œ ì„ íƒ</button>
                    <h3 class="text-lg font-medium text-gray-700" id="selectedCategoryTitle"></h3>
                    <div id="detectedCategoryBadge" class="ml-3 text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full hidden">
                        ğŸ¤– ìë™ ë¶„ë¥˜ë¨
                    </div>
                </div>
                
                <div class="grid gap-3 mb-6" id="situationList">
                    <!-- êµ¬ì²´ì  ìƒí™©ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
                
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4">
                    <h4 class="font-medium text-gray-800 mb-2">ë˜ëŠ” ì§ì ‘ ì…ë ¥í•˜ê¸°</h4>
                    <textarea id="customWorry" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="ì´ ë¶„ì•¼ì—ì„œ ë‹¤ë¥¸ ê³ ë¯¼ì´ ìˆë‹¤ë©´ ì—¬ê¸°ì— ì ì–´ì£¼ì„¸ìš”..." oninput="checkCustomWorryInput()"></textarea>
                </div>
            </div>

            <div class="flex justify-between">
                <button onclick="prevStep(2)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">â† ì´ì „</button>
                <button onclick="nextStep(2)" id="step2Next" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors" disabled>ë‹¤ìŒ ë‹¨ê³„ â†’</button>
            </div>
        </div>

        <!-- ë‹¨ê³„ 3: ABC ì •ë¦¬ -->
        <div class="step-card border-2 rounded-lg p-6 mb-6 hidden" id="step3">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">3ï¸âƒ£ ABCë¡œ ìƒí™©ì„ ì •ë¦¬í•´ë³´ì•„ìš”</h2>
            <div class="grid md:grid-cols-3 gap-4 mb-6">
                <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                    <h3 class="font-semibold text-red-700 mb-2">ğŸ…°ï¸ ì‚¬ì‹¤ (Facts)</h3>
                    <p class="text-sm text-gray-600 mb-2">ì‹¤ì œë¡œ ì¼ì–´ë‚œ ì¼</p>
                    <textarea id="factA" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" rows="3"></textarea>
                </div>
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                    <h3 class="font-semibold text-yellow-700 mb-2">ğŸ…±ï¸ ìƒê° (Beliefs)</h3>
                    <p class="text-sm text-gray-600 mb-2">ê·¸ë•Œ ë“  ìƒê°ì´ë‚˜ ë¯¿ìŒ</p>
                    <textarea id="beliefB" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent" rows="3"></textarea>
                </div>
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h3 class="font-semibold text-blue-700 mb-2">ğŸ…²ï¸ ê²°ê³¼ (Consequences)</h3>
                    <p class="text-sm text-gray-600 mb-2">ê·¸ë˜ì„œ ë‚˜íƒ€ë‚œ ê°ì •ì´ë‚˜ í–‰ë™</p>
                    <textarea id="consequenceC" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3"></textarea>
                </div>
            </div>
            <div class="flex justify-between">
                <button onclick="prevStep(3)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">â† ì´ì „</button>
                <button onclick="nextStep(3)" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
            </div>
        </div>

        <!-- ë‹¨ê³„ 4: ê°ì • ê³µê° -->
        <div class="step-card border-2 rounded-lg p-6 mb-6 hidden" id="step4">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">4ï¸âƒ£ ì„ ìƒë‹˜ì˜ ê°ì •ì— ê³µê°í•´ì£¼ì„¸ìš”</h2>
            <p class="text-gray-600 mb-6">ì„ ìƒë‹˜ì´ ì§€ê¸ˆ ì–´ë–¤ ê¸°ë¶„ì´ì‹¤ê¹Œìš”? ê°€ì¥ ê°€ê¹Œìš´ ê°ì •ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6" id="emotionButtons">
                <!-- ê°ì • ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
            <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6 hidden" id="empathyMessage">
                <h3 class="font-medium text-green-700 mb-2">ğŸ’š ê³µê° ë©”ì‹œì§€</h3>
                <p id="empathyText" class="text-gray-700"></p>
            </div>
            <div class="flex justify-between">
                <button onclick="prevStep(4)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">â† ì´ì „</button>
                <button onclick="nextStep(4)" id="step4Next" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors" disabled>ë‹¤ìŒ ë‹¨ê³„ â†’</button>
            </div>
        </div>

        <!-- ë‹¨ê³„ 5: ì¡°ì–¸ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
        <div class="step-card border-2 rounded-lg p-6 mb-6 hidden" id="step5">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">5ï¸âƒ£ í•™ìƒì˜ ê²½í—˜ìœ¼ë¡œ ì¡°ì–¸í•´ì£¼ì„¸ìš”</h2>
            <p class="text-gray-600 mb-6">ì—¬ëŸ¬ë¶„ì˜ ê²½í—˜ì—ì„œ ë„ì›€ì´ ë  ë§Œí•œ ê²ƒë“¤ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
            
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <!-- ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì ìš© ê¸°ëŠ¥ - ìƒê°í•´ë³¼ ì  -->
                <div class="checklist-section">
                    <div class="checklist-header">
                        <div class="checklist-title">ğŸ¤” ìƒê°í•´ë³¼ ì </div>
                        <button onclick="applyThinkingChecklist()" class="apply-btn">
                            ğŸ“ ì„ íƒí•œ ìƒê°ë“¤ ì ìš©í•˜ê¸°
                        </button>
                    </div>
                    <div id="thinkingChecklist" class="space-y-2">
                        <!-- ìƒê° ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                    <textarea id="thinking-textarea" 
                              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-3" 
                              rows="4" 
                              placeholder="ìƒê°í•´ë³¼ ì ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤..."
                              oninput="updateAdvicePreview()"
                              onpaste="setTimeout(updateAdvicePreview, 10)"></textarea>
                    <div class="character-counter" id="thinking-counter">0ì</div>
                </div>
                
                <!-- ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì ìš© ê¸°ëŠ¥ - í–‰ë™ ì•„ì´ë””ì–´ -->
                <div class="checklist-section">
                    <div class="checklist-header">
                        <div class="checklist-title">ğŸ™‹â€â™€ï¸ í–‰ë™ ì•„ì´ë””ì–´</div>
                        <button onclick="applyHelpChecklist()" class="apply-btn help-apply">
                            ğŸ¯ ì„ íƒí•œ ë°©ë²•ë“¤ ì ìš©í•˜ê¸°
                        </button>
                    </div>
                    <div id="helpChecklist" class="space-y-2">
                        <!-- í–‰ë™ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                    <textarea id="help-textarea" 
                              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent mt-3" 
                              rows="4" 
                              placeholder="í–‰ë™ ì•„ì´ë””ì–´ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤..."
                              oninput="updateAdvicePreview()"
                              onpaste="setTimeout(updateAdvicePreview, 10)"></textarea>
                    <div class="character-counter" id="help-counter">0ì</div>
                </div>
            </div>

            <!-- ğŸ†• í–¥ìƒëœ ì¡°ì–¸ ë¯¸ë¦¬ë³´ê¸° -->
            <div class="advice-preview-enhanced hidden" id="advicePreview">
                <h3 class="font-medium text-blue-700 mb-3 flex items-center gap-2">
                    ğŸ“ ìƒì„±ëœ ì¡°ì–¸
                    <span class="text-xs bg-blue-100 px-2 py-1 rounded-full text-blue-600" id="adviceItemCount">0ê°œ í•­ëª©</span>
                </h3>
                <div id="adviceText" class="text-gray-700"></div>
            </div>

            <div class="flex justify-between">
                <button onclick="prevStep(5)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">â† ì´ì „</button>
                <button onclick="nextStep(5)" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
            </div>
        </div>

        <!-- ë‹¨ê³„ 6: ê²©ë ¤ ë©”ì‹œì§€ -->
        <div class="step-card border-2 rounded-lg p-6 mb-6 hidden" id="step6">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">6ï¸âƒ£ ê²©ë ¤ ë©”ì‹œì§€ë¥¼ ì „í•´ì£¼ì„¸ìš”</h2>
            
            <div class="text-center mb-6">
                <button onclick="drawEncouragementMessage()" class="bg-yellow-500 hover:bg-yellow-600 text-white px-8 py-4 rounded-lg font-medium text-lg transition-colors">
                    ğŸ¯ ê²©ë ¤ ë©”ì‹œì§€ ë½‘ê¸°
                </button>
            </div>

            <div class="message-card rounded-lg p-6 mb-6 hidden" id="encouragementCard">
                <h3 class="font-semibold text-yellow-800 mb-3 text-center">ğŸ’Œ ë½‘íŒ ê²©ë ¤ ë©”ì‹œì§€</h3>
                <p id="encouragementText" class="text-gray-800 text-center text-lg font-medium"></p>
            </div>

            <div class="bg-pink-50 border border-pink-200 rounded-lg p-4 mb-6">
                <h3 class="font-medium text-pink-700 mb-2">âœï¸ ê°œì¸ì ì¸ ë©”ì‹œì§€ ì¶”ê°€</h3>
                <textarea id="personalMessage" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent" rows="3" placeholder="ì„ ìƒë‹˜ê»˜ ì „í•˜ê³  ì‹¶ì€ ê°œì¸ì ì¸ ì‘ì› ë©”ì‹œì§€ë¥¼ ì ì–´ì£¼ì„¸ìš”..."></textarea>
            </div>

            <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-6">
                <h3 class="font-medium text-indigo-700 mb-3">ğŸ¤ ì‹¤ì²œ ì•½ì†</h3>
                <div class="grid md:grid-cols-2 gap-2" id="commitmentOptions">
                    <!-- ì‹¤ì²œ ì•½ì† ì˜µì…˜ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <div class="flex justify-between">
                <button onclick="prevStep(6)" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">â† ì´ì „</button>
                <button onclick="nextStep(6)" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">ì™„ì„±í•˜ê¸° ğŸ‰</button>
            </div>
        </div>

        <!-- ë‹¨ê³„ 7: ê²°ê³¼ í™•ì¸ ë° ì €ì¥ -->
        <div class="step-card border-2 rounded-lg p-6 mb-6 hidden" id="step7">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">ğŸ‰ ìƒë‹´ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
            
            <div class="final-result-container bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6" id="finalResult">
                <!-- ìµœì¢… ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 no-print">
                <button onclick="saveAsText()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                    ğŸ“„ í…ìŠ¤íŠ¸ë¡œ ì €ì¥
                </button>
                <button onclick="saveAsPDF()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                    ğŸ“‹ PDFë¡œ ì €ì¥
                </button>
                <button onclick="saveAsImage()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                    ğŸ–¼ï¸ ì´ë¯¸ì§€ë¡œ ì €ì¥
                </button>
                <button onclick="printResult()" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                    ğŸ–¨ï¸ ì¸ì‡„í•˜ê¸°
                </button>
            </div>

            <div class="text-center no-print">
                <button onclick="resetForm()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                    ğŸ”„ ìƒˆë¡œ ì‹œì‘í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- í–¥ìƒëœ ì•Œë¦¼ ì‹œìŠ¤í…œ -->
    <div id="notification" class="notification">
        <span id="notificationText"></span>
    </div>

    <!-- ë„ì›€ë§ ë²„íŠ¼ -->
    <button onclick="showHelp()" class="fixed bottom-4 right-4 bg-indigo-500 hover:bg-indigo-600 text-white p-4 rounded-full shadow-lg transition-colors z-50 no-print" aria-label="ë„ì›€ë§">
        â“
    </button>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentStep = 1;
        let selectedWorry = null;
        let selectedCategory = null;
        let selectedEmotion = null;
        let selectedAdvice = { thinking: [], help: [] };
        let selectedCommitments = [];
        let detectedCategory = null; // ğŸ¤– ìë™ ë¶„ë¥˜ëœ ì¹´í…Œê³ ë¦¬

        // ë°ì´í„°
        const worryCases = {
            "ìˆ˜ì—… ì°¸ì—¬": [
                { text: "í•™ìƒë“¤ì´ ìˆ˜ì—… ì‹œê°„ì— ì§‘ì¤‘í•˜ì§€ ì•Šì•„ìš”", abc: { a: "ìˆ˜ì—… ì¤‘ í•™ìƒë“¤ì´ ë”´ì§“ì„ í•˜ê±°ë‚˜ ë– ë“¤ì—ˆë‹¤", b: "ë‚´ ìˆ˜ì—…ì´ ì¬ë¯¸ì—†ë‚˜ë³´ë‹¤", c: "ì†ìƒí•˜ê³  ìì‹ ê°ì´ ë–¨ì–´ì§„ë‹¤" } },
                { text: "ì§ˆë¬¸í•´ë„ ëŒ€ë‹µí•˜ëŠ” í•™ìƒì´ ì—†ì–´ìš”", abc: { a: "ì§ˆë¬¸ì„ í–ˆëŠ”ë° ì•„ë¬´ë„ ëŒ€ë‹µí•˜ì§€ ì•Šì•˜ë‹¤", b: "í•™ìƒë“¤ì´ ì´í•´í•˜ì§€ ëª»í–ˆë‚˜ë³´ë‹¤", c: "ë‹¹í™©ìŠ¤ëŸ½ê³  ê±±ì •ëœë‹¤" } },
                { text: "ë°œí‘œë¥¼ ì‹œì¼œë„ ì†Œê·¹ì ì´ì—ìš”", abc: { a: "ë°œí‘œ ì‹œê°„ì— í•™ìƒë“¤ì´ ì†ì„ ë“¤ì§€ ì•ŠëŠ”ë‹¤", b: "í•™ìƒë“¤ì´ ìì‹ ê°ì´ ì—†ëŠ” ê²ƒ ê°™ë‹¤", c: "ì–´ë–»ê²Œ ë„ì™€ì¤˜ì•¼ í• ì§€ ëª¨ë¥´ê² ë‹¤" } }
            ],
            "í•™ê¸‰ ê´€ë¦¬": [
                { text: "ì•„ì´ë“¤ì´ ìê¾¸ ì‹¸ì›Œìš”", abc: { a: "íœ´ì‹ì‹œê°„ë§ˆë‹¤ í•™ìƒë“¤ì´ ë‹¤íˆ°ë‹¤", b: "ë‚´ê°€ ê´€ë¦¬ë¥¼ ì œëŒ€ë¡œ ëª»í•˜ë‚˜ë³´ë‹¤", c: "ìŠ¤íŠ¸ë ˆìŠ¤ë°›ê³  í”¼ê³¤í•˜ë‹¤" } },
                { text: "ê·œì¹™ì„ ì§€í‚¤ì§€ ì•ŠëŠ” í•™ìƒì´ ìˆì–´ìš”", abc: { a: "ê°™ì€ í•™ìƒì´ ê³„ì† ê·œì¹™ì„ ì–´ê¸´ë‹¤", b: "ì´ í•™ìƒì„ ì–´ë–»ê²Œ ì§€ë„í•´ì•¼ í• ê¹Œ", c: "ë‹µë‹µí•˜ê³  ê³ ë¯¼ëœë‹¤" } },
                { text: "í•™ê¸‰ ë¶„ìœ„ê¸°ê°€ ì–´ìˆ˜ì„ í•´ìš”", abc: { a: "êµì‹¤ì´ ì‹œë„ëŸ½ê³  ì •ë¦¬ì •ëˆì´ ì•ˆ ëœë‹¤", b: "í•™ìƒë“¤ì´ í•™ê¸‰ì— ì• ì°©ì´ ì—†ëŠ” ê²ƒ ê°™ë‹¤", c: "ì‹¤ë§ìŠ¤ëŸ½ê³  ê°œì„ í•˜ê³  ì‹¶ë‹¤" } }
            ],
            "í•™ìŠµ ì§€ë„": [
                { text: "í•™ìŠµ ì†ë„ê°€ ë‹¤ë¥¸ í•™ìƒë“¤ì„ ì–´ë–»ê²Œ ì§€ë„í• ê¹Œìš”", abc: { a: "ê°™ì€ ë‚´ìš©ì„ ê°€ë¥´ì³ë„ ì´í•´ ì†ë„ê°€ ë‹¤ë¥´ë‹¤", b: "ëª¨ë“  í•™ìƒì„ ë‹¤ ì±™ê¸°ê¸° ì–´ë µë‹¤", c: "ë¯¸ì•ˆí•˜ê³  ë°©ë²•ì„ ì°¾ê³  ì‹¶ë‹¤" } },
                { text: "ìˆ™ì œë¥¼ ì•ˆ í•´ì˜¤ëŠ” í•™ìƒì´ ë§ì•„ìš”", abc: { a: "ë§¤ì¼ ìˆ™ì œë¥¼ ì•ˆ í•´ì˜¤ëŠ” í•™ìƒë“¤ì´ ìˆë‹¤", b: "í•™ìŠµì— ëŒ€í•œ ì˜ìš•ì´ ì—†ëŠ” ê²ƒ ê°™ë‹¤", c: "ì–´ë–»ê²Œ ë™ê¸°ë¥¼ ì¤˜ì•¼ í• ì§€ ëª¨ë¥´ê² ë‹¤" } },
                { text: "ì‹œí—˜ ì„±ì ì´ ì „ë°˜ì ìœ¼ë¡œ ë‚®ì•„ìš”", abc: { a: "ë°˜ í‰ê· ì´ ë‹¤ë¥¸ ë°˜ë³´ë‹¤ ë‚®ë‹¤", b: "ë‚´ êµìˆ˜ë²•ì— ë¬¸ì œê°€ ìˆë‚˜ë³´ë‹¤", c: "ìì±…í•˜ë©° ê°œì„  ë°©ë²•ì„ ì°¾ê³  ìˆë‹¤" } }
            ],
            "í•™ë¶€ëª¨ ê´€ê³„": [
                { text: "í•™ë¶€ëª¨ê°€ ë„ˆë¬´ ê°„ì„­ì´ ì‹¬í•´ìš”", abc: { a: "í•™ë¶€ëª¨ê°€ ìˆ˜ì—… ë°©ì‹ì— ëŒ€í•´ ìì£¼ ë¬¸ì˜í•œë‹¤", b: "ë‚´ ì „ë¬¸ì„±ì„ ì¸ì •í•˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ë‹¤", c: "ë¶€ë‹´ìŠ¤ëŸ½ê³  ìœ„ì¶•ëœë‹¤" } },
                { text: "í•™ë¶€ëª¨ì™€ êµìœ¡ ë°©ì¹¨ì´ ë‹¬ë¼ìš”", abc: { a: "ê°€ì •ê³¼ í•™êµì˜ êµìœ¡ ë°©ì‹ì´ ë‹¤ë¥´ë‹¤", b: "í•™ìƒì´ í˜¼ë€ìŠ¤ëŸ¬ì›Œí•  ê²ƒ ê°™ë‹¤", c: "ì–´ë–»ê²Œ ì¡°ìœ¨í•´ì•¼ í• ì§€ ê³ ë¯¼ëœë‹¤" } },
                { text: "ìƒë‹´ ìš”ì²­ì´ ë„ˆë¬´ ë§ì•„ìš”", abc: { a: "ë§¤ì£¼ ì—¬ëŸ¬ í•™ë¶€ëª¨ê°€ ìƒë‹´ì„ ìš”ì²­í•œë‹¤", b: "ëª¨ë“  ìš”êµ¬ë¥¼ ë‹¤ ë“¤ì–´ì¤˜ì•¼ í•˜ë‚˜", c: "ì‹œê°„ì´ ë¶€ì¡±í•˜ê³  í”¼ê³¤í•˜ë‹¤" } }
            ],
            "ì—…ë¬´ ìŠ¤íŠ¸ë ˆìŠ¤": [
                { text: "ì—…ë¬´ê°€ ë„ˆë¬´ ë§ì•„ì„œ í˜ë“¤ì–´ìš”", abc: { a: "ìˆ˜ì—… ì™¸ì—ë„ í–‰ì •ì—…ë¬´ê°€ ì‚°ë”ë¯¸ë‹¤", b: "ì´ ëª¨ë“  ê±¸ ë‹¤ í•´ë‚´ì•¼ í•œë‹¤", c: "ì§€ì¹˜ê³  ë²ˆì•„ì›ƒì´ ì˜¬ ê²ƒ ê°™ë‹¤" } },
                { text: "ìˆ˜ì—… ì¤€ë¹„í•  ì‹œê°„ì´ ë¶€ì¡±í•´ìš”", abc: { a: "íšŒì˜ì™€ ì—…ë¬´ë¡œ ìˆ˜ì—… ì¤€ë¹„ ì‹œê°„ì´ ì—†ë‹¤", b: "í•™ìƒë“¤ì—ê²Œ ë¯¸ì•ˆí•˜ë‹¤", c: "ì£„ì±…ê°ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ëŠë‚€ë‹¤" } },
                { text: "ë™ë£Œ êµì‚¬ì™€ì˜ ê´€ê³„ê°€ ì–´ë ¤ì›Œìš”", abc: { a: "ë‹¤ë¥¸ ì„ ìƒë‹˜ê³¼ ì˜ê²¬ì´ ìì£¼ ì¶©ëŒí•œë‹¤", b: "í˜¼ìë§Œ ë‹¤ë¥¸ ìƒê°ì„ í•˜ëŠ” ê²ƒ ê°™ë‹¤", c: "ì™¸ë¡­ê³  ì†Œí†µì´ ì–´ë µë‹¤" } }
            ]
        };

        const emotions = [
            { name: "ì†ìƒí•¨", emoji: "ğŸ˜¢", empathy: "ì •ë§ ì†ìƒí•˜ì…¨ì„ ê²ƒ ê°™ì•„ìš”. ê·¸ëŸ° ë§ˆìŒ ì¶©ë¶„íˆ ì´í•´í•´ìš”." },
            { name: "ê±±ì •ë¨", emoji: "ğŸ˜°", empathy: "ë§ì´ ê±±ì •ë˜ì‹œëŠ”êµ°ìš”. ê·¸ëŸ° ê³ ë¯¼ì„ í•˜ì‹œëŠ” ì„ ìƒë‹˜ì˜ ë§ˆìŒì´ ëŠê»´ì ¸ìš”." },
            { name: "ë‹µë‹µí•¨", emoji: "ğŸ˜¤", empathy: "ì •ë§ ë‹µë‹µí•˜ì…¨ì„ ê±°ì˜ˆìš”. ì–´ë–»ê²Œ í•´ì•¼ í• ì§€ ë§‰ë§‰í•˜ì…¨ì„ ê²ƒ ê°™ì•„ìš”." },
            { name: "ìŠ¤íŠ¸ë ˆìŠ¤", emoji: "ğŸ˜µ", empathy: "ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ë§ì´ ìŒ“ì´ì…¨ë‚˜ë´ìš”. í˜ë“œì…¨ì„ í…ë° ì´ë ‡ê²Œ ê³ ë¯¼í•´ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”." },
            { name: "ì‹¤ë§", emoji: "ğŸ˜", empathy: "ì‹¤ë§ìŠ¤ëŸ¬ìš°ì…¨ì„ ê±°ì˜ˆìš”. ê¸°ëŒ€í–ˆë˜ ê²ƒê³¼ ë‹¬ë¼ì„œ ë” ì†ìƒí•˜ì…¨ì„ ê²ƒ ê°™ì•„ìš”." },
            { name: "ë¶€ë‹´", emoji: "ğŸ˜“", empathy: "ë§ì€ ë¶€ë‹´ì„ ëŠë¼ê³  ê³„ì‹œëŠ”êµ°ìš”. ê·¸ëŸ° ë§ˆìŒ ì •ë§ ê³µê°í•´ìš”." },
            { name: "ë¯¸ì•ˆí•¨", emoji: "ğŸ˜”", empathy: "ë¯¸ì•ˆí•œ ë§ˆìŒì´ ë“œì‹œëŠ”êµ°ìš”. ê·¸ëŸ° ë§ˆìŒì„ ê°€ì§€ì‹œëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì¢‹ì€ ì„ ìƒë‹˜ì´ì„¸ìš”." },
            { name: "í”¼ê³¤í•¨", emoji: "ğŸ˜´", empathy: "ì •ë§ í”¼ê³¤í•˜ì…¨ì„ ê±°ì˜ˆìš”. ì‰¬ëŠ” ì‹œê°„ë„ ë¶€ì¡±í•˜ì‹¤ í…ë° ê³ ìƒì´ ë§ìœ¼ì„¸ìš”." }
        ];

        // ğŸ¤– ìŠ¤ë§ˆíŠ¸ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ì‹œìŠ¤í…œ
        function classifyCategory(text) {
            const keywords = {
                'ìˆ˜ì—… ì°¸ì—¬': ['ì§‘ì¤‘', 'ë– ë“¤', 'ì§ˆë¬¸', 'ëŒ€ë‹µ', 'ë°œí‘œ', 'ì†Œê·¹ì ', 'ì°¸ì—¬', 'ìˆ˜ì—…', 'ì‹œê°„', 'í™œë™'],
                'í•™ê¸‰ ê´€ë¦¬': ['ì‹¸ì›Œ', 'ê·œì¹™', 'ì§€í‚¤ì§€', 'ì–´ìˆ˜ì„ ', 'ë¶„ìœ„ê¸°', 'ê´€ë¦¬', 'í•™ê¸‰', 'ì •ë¦¬', 'ê°ˆë“±'],
                'í•™ìŠµ ì§€ë„': ['ì†ë„', 'ìˆ™ì œ', 'ì„±ì ', 'ì´í•´', 'ê³µë¶€', 'í•™ìŠµ', 'ì§€ë„', 'ë¬¸ì œ', 'ê³¼ì œ', 'ì ìˆ˜'],
                'í•™ë¶€ëª¨ ê´€ê³„': ['ê°„ì„­', 'ë¬¸ì˜', 'ìƒë‹´', 'êµìœ¡ë°©ì¹¨', 'í•™ë¶€ëª¨', 'ë¶€ëª¨ë‹˜', 'ê°€ì •', 'ìš”ì²­'],
                'ì—…ë¬´ ìŠ¤íŠ¸ë ˆìŠ¤': ['ì—…ë¬´', 'ì‹œê°„', 'ë¶€ì¡±', 'í”¼ê³¤', 'ë²ˆì•„ì›ƒ', 'í–‰ì •', 'ì¤€ë¹„', 'íšŒì˜', 'ë™ë£Œ']
            };
            
            const lowerText = text.toLowerCase();
            const scores = {};
            
            Object.entries(keywords).forEach(([category, wordList]) => {
                scores[category] = wordList.filter(keyword => 
                    lowerText.includes(keyword)
                ).length;
            });
            
            const bestCategory = Object.entries(scores).reduce((a, b) => 
                scores[a[0]] > scores[b[0]] ? a : b
            )[0];
            
            return scores[bestCategory] > 0 ? bestCategory : 'ìˆ˜ì—… ì°¸ì—¬';
        }

        // ğŸ“ ìƒí™©ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°ì´í„°
        const situationBasedChecklists = {
            "ìˆ˜ì—… ì°¸ì—¬": {
                thinking: [
                    "ì œê°€ ì¬ë¯¸ìˆê²Œ ëŠê¼ˆë˜ ìˆ˜ì—…ì€ ê²Œì„ì´ë‚˜ í™œë™ì´ ìˆì—ˆì–´ìš”",
                    "ì§ˆë¬¸ì„ ë°›ì„ ë•Œ í‹€ë¦´ê¹Œë´ ê±±ì •ë˜ëŠ” ë§ˆìŒë„ ìˆì–´ìš”",
                    "ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ í•˜ëŠ” í™œë™ì´ ë” ì°¸ì—¬í•˜ê³  ì‹¶ê²Œ ë§Œë“¤ì–´ìš”",
                    "ì„ ìƒë‹˜ì´ ì›ƒìœ¼ë©´ì„œ ê²©ë ¤í•´ì£¼ì‹œë©´ ìš©ê¸°ê°€ ë‚˜ìš”",
                    "ì‘ì€ ì„±ê³µ ê²½í—˜ì´ ìˆìœ¼ë©´ ë” ì ê·¹ì ì´ ë˜ì–´ìš”"
                ],
                help: [
                    "ì†ë“¤ê¸° ì „ì— ì§ê³¼ ë¨¼ì € ì´ì•¼ê¸°í•´ë³´ëŠ” ì‹œê°„ ì£¼ê¸°",
                    "ì •ë‹µì´ ì•„ë‹ˆì–´ë„ ì¹­ì°¬í•´ì£¼ëŠ” ë¶„ìœ„ê¸° ë§Œë“¤ê¸°",
                    "ì¡°ë³„ í™œë™ìœ¼ë¡œ ë¶€ë‹´ ì¤„ì—¬ì£¼ê¸°",
                    "ì¬ë¯¸ìˆëŠ” í€´ì¦ˆë‚˜ ê²Œì„ í™œë™ ì¶”ê°€í•˜ê¸°",
                    "ë°œí‘œ ëŒ€ì‹  ê·¸ë¦¼ì´ë‚˜ ê¸€ë¡œ í‘œí˜„í•  ê¸°íšŒ ì£¼ê¸°"
                ]
            },
            "í•™ê¸‰ ê´€ë¦¬": {
                thinking: [
                    "ê·œì¹™ì´ ë„ˆë¬´ ë§ìœ¼ë©´ ê¸°ì–µí•˜ê¸° ì–´ë ¤ì›Œìš”",
                    "ì™œ ê·¸ ê·œì¹™ì´ í•„ìš”í•œì§€ ì´ìœ ë¥¼ ì•Œê³  ì‹¶ì–´ìš”",
                    "ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ì •í•œ ê·œì¹™ì€ ë” ì˜ ì§€í‚¤ê²Œ ë˜ì–´ìš”",
                    "ì¹­ì°¬ë°›ì„ ë•Œ ê·œì¹™ì„ ì§€í‚¤ê³  ì‹¶ì€ ë§ˆìŒì´ ë” ìƒê²¨ìš”",
                    "ë²Œë³´ë‹¤ëŠ” ë³´ìƒì´ ë” ë™ê¸°ê°€ ë˜ì–´ìš”"
                ],
                help: [
                    "í•™ê¸‰ ê·œì¹™ì„ í•¨ê»˜ ì •í•˜ëŠ” ì‹œê°„ ë§Œë“¤ê¸°",
                    "ê·œì¹™ì„ ì§€í‚¨ ì¹œêµ¬ë“¤ ì¹­ì°¬í•˜ê¸°",
                    "êµì‹¤ ê¾¸ë¯¸ê¸°ë‚˜ ì •ë¦¬ë¥¼ í•¨ê»˜ í•˜ê¸°",
                    "ì—­í•  ë¶„ë‹´ìœ¼ë¡œ ì±…ì„ê° ëŠë¼ê²Œ í•˜ê¸°",
                    "ê°ˆë“± í•´ê²°í•˜ëŠ” ë°©ë²• ê°€ë¥´ì³ì£¼ê¸°"
                ]
            },
            "í•™ìŠµ ì§€ë„": {
                thinking: [
                    "ì–´ë ¤ìš´ ë¬¸ì œëŠ” ë‹¨ê³„ë³„ë¡œ ë‚˜ëˆ„ì–´ ì£¼ì‹œë©´ ì´í•´í•˜ê¸° ì‰¬ì›Œìš”",
                    "ì¹œêµ¬ì—ê²Œ ì„¤ëª…í•´ë³¼ ê¸°íšŒê°€ ìˆìœ¼ë©´ ë” ì˜ ê¸°ì–µí•´ìš”",
                    "í‹€ë ¤ë„ ê´œì°®ë‹¤ëŠ” ë¶„ìœ„ê¸°ì—ì„œ ë” ì‹œë„í•˜ê²Œ ë˜ì–´ìš”",
                    "ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ê²ƒê³¼ ì—°ê²°í•´ì„œ ë°°ìš°ë©´ ë” ì¬ë¯¸ìˆì–´ìš”",
                    "ì„ ìƒë‹˜ì´ ê°œë³„ì ìœ¼ë¡œ ë„ì›€ì£¼ì‹œë©´ ë” ì§‘ì¤‘í•˜ê²Œ ë˜ì–´ìš”"
                ],
                help: [
                    "ì§ í™œë™ìœ¼ë¡œ ì„œë¡œ ê°€ë¥´ì³ì£¼ëŠ” ì‹œê°„ ë§Œë“¤ê¸°",
                    "ìˆ˜ì¤€ë³„ ê³¼ì œë‚˜ ì„ íƒê¶Œ ì£¼ê¸°",
                    "ì‘ì€ ì„±ì·¨ë„ ì¸ì •í•˜ê³  ê²©ë ¤í•˜ê¸°",
                    "í•™ìƒì˜ ê´€ì‹¬ì‚¬ì™€ ì—°ê²°í•œ ì˜ˆì‹œ ì‚¬ìš©í•˜ê¸°",
                    "ìˆ™ì œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë‚˜ ê³„íší‘œ í•¨ê»˜ ë§Œë“¤ê¸°"
                ]
            },
            "í•™ë¶€ëª¨ ê´€ê³„": {
                thinking: [
                    "ë¶€ëª¨ë‹˜ì´ ì„ ìƒë‹˜ì„ ë¯¿ê³  ì§€ì§€í•´ì£¼ì‹œë©´ ì¢‹ê² ì–´ìš”",
                    "ì§‘ê³¼ í•™êµê°€ ë‹¤ë¥´ë©´ ìš°ë¦¬ë„ í˜¼ë€ìŠ¤ëŸ¬ì›Œìš”",
                    "ì„ ìƒë‹˜ì˜ êµìœ¡ ë°©ì‹ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì‹œë©´ ì´í•´í•˜ê¸° ì‰¬ì›Œìš”",
                    "ë¶€ëª¨ë‹˜ê³¼ ì„ ìƒë‹˜ì´ í˜‘ë ¥í•˜ëŠ” ëª¨ìŠµì„ ë³´ë©´ ì•ˆì‹¬ë¼ìš”",
                    "ì„ ìƒë‹˜ì´ ìš°ë¦¬ë¥¼ ìœ„í•´ ë…¸ë ¥í•˜ì‹ ë‹¤ëŠ” ê±¸ ë¶€ëª¨ë‹˜ë„ ì•Œë©´ ì¢‹ê² ì–´ìš”"
                ],
                help: [
                    "êµìœ¡ ì² í•™ì´ë‚˜ ë°©ë²•ì„ í¸ì§€ë¡œ ì„¤ëª…í•˜ê¸°",
                    "í•™ìƒì˜ ì„±ì¥ ê³¼ì •ì„ ì‚¬ì§„ì´ë‚˜ ì˜ìƒìœ¼ë¡œ ê³µìœ í•˜ê¸°",
                    "í•™ë¶€ëª¨ ì°¸ì—¬ í™œë™ ê¸°íší•˜ê¸°",
                    "ì •ê¸°ì ì¸ ì†Œí†µ ì‹œê°„ ì •í•˜ê¸°",
                    "í•™ìƒì˜ ì¥ì ì„ ë¨¼ì € ì´ì•¼ê¸°í•˜ê¸°"
                ]
            },
            "ì—…ë¬´ ìŠ¤íŠ¸ë ˆìŠ¤": {
                thinking: [
                    "ì„ ìƒë‹˜ì´ í˜ë“¤ì–´í•˜ì‹œë©´ ìš°ë¦¬ë„ ê±±ì •ë¼ìš”",
                    "ì„ ìƒë‹˜ë„ ì‰¬ëŠ” ì‹œê°„ì´ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•´ìš”",
                    "ì„ ìƒë‹˜ì´ ì›ƒìœ¼ì‹œë©´ êµì‹¤ ë¶„ìœ„ê¸°ê°€ ì¢‹ì•„ì ¸ìš”",
                    "ìš°ë¦¬ê°€ ë„ìš¸ ìˆ˜ ìˆëŠ” ì¼ì´ ìˆìœ¼ë©´ ë§í•´ì£¼ì„¸ìš”",
                    "ì„ ìƒë‹˜ì˜ ê±´ê°•ì´ ê°€ì¥ ì¤‘ìš”í•´ìš”"
                ],
                help: [
                    "í•™ìƒë“¤ê³¼ ì—…ë¬´ ë¶„ë‹´í•˜ê¸° (ì²­ì†Œ, ì •ë¦¬ ë“±)",
                    "ê°„ë‹¨í•œ ì—…ë¬´ëŠ” í•™ìƒ ë„ìš°ë¯¸ í™œìš©í•˜ê¸°",
                    "ë™ë£Œ ì„ ìƒë‹˜ê³¼ í˜‘ë ¥ ì²´ê³„ ë§Œë“¤ê¸°",
                    "ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ë§ˆìŒê°€ì§ ê°–ê¸°",
                    "íœ´ì‹ ì‹œê°„ í™•ë³´í•˜ê³  ìê¸° ëŒë´„í•˜ê¸°"
                ]
            }
        };

        const encouragementMessages = [
            "ì„ ìƒë‹˜ì˜ ê³ ë¯¼í•˜ëŠ” ë§ˆìŒ ìì²´ê°€ í•™ìƒë“¤ì— ëŒ€í•œ ì‚¬ë‘ì´ì—ìš”! ğŸ’–",
            "ì™„ë²½í•œ ì„ ìƒë‹˜ì€ ì—†ì–´ìš”. ì§€ê¸ˆë„ ì¶©ë¶„íˆ ë©‹ì§„ ì„ ìƒë‹˜ì´ì„¸ìš”! â­",
            "í•™ìƒë“¤ì€ ì„ ìƒë‹˜ì´ ìƒê°í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ì„ ìƒë‹˜ì„ ì¢‹ì•„í•´ìš”! ğŸ˜Š",
            "ì‘ì€ ë³€í™”ë„ í° ì°¨ì´ë¥¼ ë§Œë“¤ì–´ìš”. í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”! ğŸŒ±",
            "ì„ ìƒë‹˜ì˜ ë…¸ë ¥í•˜ëŠ” ëª¨ìŠµì„ í•™ìƒë“¤ì´ ëª¨ë‘ ë³´ê³  ìˆì–´ìš”! ğŸ‘€",
            "í˜ë“¤ ë•ŒëŠ” ì‰¬ì–´ë„ ê´œì°®ì•„ìš”. ì„ ìƒë‹˜ì˜ ê±´ê°•ì´ ìš°ì„ ì´ì—ìš”! ğŸƒ",
            "í•™ìƒë“¤ì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”. ë¶„ëª… ì¢‹ì€ ì•„ì´ë””ì–´ë¥¼ ì¤„ ê±°ì˜ˆìš”! ğŸ’¡",
            "ì„ ìƒë‹˜ë§Œì˜ íŠ¹ë³„í•œ ë°©ë²•ì´ ìˆì„ ê±°ì˜ˆìš”. ìì‹ ê°ì„ ê°€ì§€ì„¸ìš”! ğŸ’ª",
            "ì‹¤ìˆ˜í•´ë„ ê´œì°®ì•„ìš”. ê·¸ê²ƒë„ ìš°ë¦¬ì—ê²ŒëŠ” ì¢‹ì€ ë°°ì›€ì´ì—ìš”! ğŸ“š",
            "ì„ ìƒë‹˜ì´ ìˆì–´ì„œ ìš°ë¦¬ êµì‹¤ì´ ë”°ëœ»í•´ìš”. ê°ì‚¬í•´ìš”! ğŸ "
        ];

        const commitmentOptions = [
            "ìš°ë¦¬ê°€ ë” ì ê·¹ì ìœ¼ë¡œ ì°¸ì—¬í•˜ë„ë¡ ë…¸ë ¥í• ê²Œìš”",
            "ì„ ìƒë‹˜ì´ í˜ë“¤ì–´í•˜ì‹œë©´ ë°”ë¡œ ë„ì™€ë“œë¦´ê²Œìš”",
            "ì¹œêµ¬ë“¤ê³¼ ì‚¬ì´ì¢‹ê²Œ ì§€ë‚´ë„ë¡ ë” ë…¸ë ¥í• ê²Œìš”",
            "ìˆ˜ì—… ì‹œê°„ì— ë” ì§‘ì¤‘í•˜ë„ë¡ í• ê²Œìš”",
            "ì„ ìƒë‹˜ê»˜ ê°ì‚¬í•œ ë§ˆìŒì„ ìì£¼ í‘œí˜„í• ê²Œìš”",
            "êµì‹¤ ì •ë¦¬ì •ëˆì„ ë” ì˜ í• ê²Œìš”",
            "ë‹¤ë¥¸ ì¹œêµ¬ë“¤ë„ ë°°ë ¤í•˜ëŠ” ë§ˆìŒì„ ê°€ì§ˆê²Œìš”",
            "ì„ ìƒë‹˜ì˜ ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ ì‘ì›í• ê²Œìš”"
        ];

        // ğŸ†• ì„ íƒëœ ê³ ë¯¼ ì§€ì† í‘œì‹œ í•¨ìˆ˜
        function updateSelectedWorryDisplay() {
            if (selectedWorry && currentStep >= 3) {
                const worryCard = document.getElementById('selectedWorryCard');
                const categoryBadge = document.getElementById('categoryBadge');
                const autoClassifiedBadge = document.getElementById('autoClassifiedBadge');
                const worryContentText = document.getElementById('worryContentText');
                const displayStudentName = document.getElementById('displayStudentName');
                const displayTeacherName = document.getElementById('displayTeacherName');

                // ê³ ë¯¼ ë‚´ìš© í‘œì‹œ
                worryContentText.textContent = selectedWorry.case.text;
                
                // ì¹´í…Œê³ ë¦¬ í‘œì‹œ
                const finalCategory = detectedCategory || selectedCategory;
                const categoryEmoji = {
                    'ìˆ˜ì—… ì°¸ì—¬': 'ğŸ“š',
                    'í•™ê¸‰ ê´€ë¦¬': 'ğŸ‘¥',
                    'í•™ìŠµ ì§€ë„': 'ğŸ“–',
                    'í•™ë¶€ëª¨ ê´€ê³„': 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦',
                    'ì—…ë¬´ ìŠ¤íŠ¸ë ˆìŠ¤': 'ğŸ’¼'
                };
                
                categoryBadge.innerHTML = `${categoryEmoji[finalCategory]} ${finalCategory}`;
                
                // ìë™ ë¶„ë¥˜ ë°°ì§€ í‘œì‹œ
                if (detectedCategory && detectedCategory !== selectedCategory) {
                    autoClassifiedBadge.classList.remove('hidden');
                } else {
                    autoClassifiedBadge.classList.add('hidden');
                }
                
                // ì´ë¦„ í‘œì‹œ
                displayStudentName.textContent = document.getElementById('studentName').value || '-';
                displayTeacherName.textContent = document.getElementById('teacherName').value || '-';
                
                // ì¹´ë“œ í‘œì‹œ
                worryCard.classList.remove('hidden');
            } else {
                document.getElementById('selectedWorryCard').classList.add('hidden');
            }
        }

        // í–¥ìƒëœ ì•Œë¦¼ í‘œì‹œ í•¨ìˆ˜
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notificationText');
            
            // ì´ì „ í´ë˜ìŠ¤ ì œê±°
            notification.classList.remove('error', 'warning');
            
            // íƒ€ì…ì— ë”°ë¥¸ í´ë˜ìŠ¤ ì¶”ê°€
            if (type === 'error') {
                notification.classList.add('error');
            } else if (type === 'warning') {
                notification.classList.add('warning');
            }
            
            text.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // ğŸ†• í–¥ìƒëœ ì¡°ì–¸ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateAdvicePreview() {
            const thinkingText = document.getElementById('thinking-textarea')?.value || '';
            const helpText = document.getElementById('help-textarea')?.value || '';
            
            // ë¯¸ë¦¬ë³´ê¸° ì˜ì—­
            const advicePreview = document.getElementById('advicePreview');
            const adviceTextElement = document.getElementById('adviceText');
            const adviceItemCount = document.getElementById('adviceItemCount');
            
            if (thinkingText.trim() || helpText.trim()) {
                let adviceHTML = '';
                let totalItems = 0;
                
                if (thinkingText.trim()) {
                    const thinkingItems = thinkingText.split('.').filter(s => s.trim().length > 5);
                    totalItems += thinkingItems.length;
                    
                    adviceHTML += `
                        <div class="mb-4">
                            <h4 class="font-semibold mb-2 text-purple-700 flex items-center gap-2">
                                ğŸ’­ ìƒê°í•´ë³¼ ì :
                                <span class="text-xs bg-purple-100 px-2 py-1 rounded-full text-purple-600">
                                    ${thinkingItems.length}ê°œ í•­ëª©
                                </span>
                            </h4>
                            <div class="bg-purple-50 p-3 rounded-lg border-l-4 border-purple-300">
                                <p class="text-gray-700 leading-relaxed">${thinkingText.replace(/\n/g, '<br>')}</p>
                            </div>
                        </div>
                    `;
                }
                
                if (helpText.trim()) {
                    const helpItems = helpText.split('\n').filter(s => s.trim().length > 3);
                    totalItems += helpItems.length;
                    
                    adviceHTML += `
                        <div class="mb-4">
                            <h4 class="font-semibold mb-2 text-cyan-700 flex items-center gap-2">
                                ğŸ¯ ì‹œë„í•´ë³¼ ë°©ë²•:
                                <span class="text-xs bg-cyan-100 px-2 py-1 rounded-full text-cyan-600">
                                    ${helpItems.length}ê°œ ë°©ë²•
                                </span>
                            </h4>
                            <div class="bg-cyan-50 p-3 rounded-lg border-l-4 border-cyan-300">
                                <div class="text-gray-700 leading-relaxed">${helpText.replace(/\n/g, '<br>')}</div>
                            </div>
                        </div>
                    `;
                }
                
                // ì¡°ì–¸ ì™„ì„±ë„ í‘œì‹œ
                const completeness = calculateAdviceCompleteness(thinkingText, helpText);
                adviceHTML += `
                    <div class="mt-4 p-3 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-semibold text-green-700">ì¡°ì–¸ ì™„ì„±ë„</span>
                            <span class="text-sm font-bold text-green-800">${completeness}%</span>
                        </div>
                        <div class="completeness-bar">
                            <div class="completeness-fill" style="width: ${completeness}%"></div>
                        </div>
                        ${completeness < 70 ? 
                            '<p class="text-xs text-amber-600 mt-2">ğŸ’¡ ë” êµ¬ì²´ì ì¸ ì¡°ì–¸ì„ ì¶”ê°€í•´ë³´ì„¸ìš”!</p>' : 
                            '<p class="text-xs text-green-600 mt-2">âœ… í›Œë¥­í•œ ì¡°ì–¸ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!</p>'
                        }
                    </div>
                `;
                
                adviceTextElement.innerHTML = adviceHTML;
                adviceItemCount.textContent = `${totalItems}ê°œ í•­ëª©`;
                advicePreview.classList.remove('hidden');
                
                // ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
                advicePreview.style.opacity = '0';
                advicePreview.style.transform = 'translateY(10px)';
                setTimeout(() => {
                    advicePreview.style.transition = 'all 0.3s ease';
                    advicePreview.style.opacity = '1';
                    advicePreview.style.transform = 'translateY(0)';
                }, 10);
                
            } else {
                advicePreview.classList.add('hidden');
            }
        }

        // ğŸ†• ì¡°ì–¸ ì™„ì„±ë„ ê³„ì‚° í•¨ìˆ˜
        function calculateAdviceCompleteness(thinking, help) {
            let score = 0;
            
            // ìƒê°í•´ë³¼ ì  ì ìˆ˜ (ìµœëŒ€ 40ì )
            if (thinking.trim()) {
                const thinkingItems = thinking.split('.').filter(s => s.trim().length > 10);
                score += Math.min(thinkingItems.length * 10, 40);
            }
            
            // í–‰ë™ ì•„ì´ë””ì–´ ì ìˆ˜ (ìµœëŒ€ 40ì )
            if (help.trim()) {
                const helpItems = help.split('\n').filter(s => s.trim().length > 5);
                score += Math.min(helpItems.length * 8, 40);
            }
            
            // ê¸¸ì´ ë³´ë„ˆìŠ¤ (ìµœëŒ€ 20ì )
            const totalLength = thinking.length + help.length;
            if (totalLength > 100) score += Math.min((totalLength - 100) / 10, 20);
            
            return Math.min(Math.round(score), 100);
        }

        // ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì ìš© í•¨ìˆ˜ë“¤
        function applyThinkingChecklist() {
            const checkedItems = [];
            document.querySelectorAll('#thinkingChecklist input[type="checkbox"]:checked').forEach(checkbox => {
                const label = checkbox.nextElementSibling;
                if (label) {
                    checkedItems.push(label.textContent.trim());
                }
            });
            
            if (checkedItems.length > 0) {
                const textarea = document.getElementById('thinking-textarea');
                const currentText = textarea.value.trim();
                const newText = checkedItems.join('. ') + '.';
                
                if (currentText) {
                    textarea.value = currentText + '\n\n' + newText;
                } else {
                    textarea.value = newText;
                }
                
                // ì²´í¬ë°•ìŠ¤ ì´ˆê¸°í™”
                document.querySelectorAll('#thinkingChecklist input[type="checkbox"]').forEach(cb => cb.checked = false);
                
                // ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
                updateAdvicePreview();
                
                // ê¸€ììˆ˜ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
                updateCharacterCounter('thinking');
                
                // ì„±ê³µ ì•Œë¦¼
                showNotification('ğŸ’­ ì„ íƒí•œ ìƒê°ë“¤ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!');
                
                // í…ìŠ¤íŠ¸ ì˜ì—­ì— í¬ì»¤ìŠ¤ ë° ìŠ¤í¬ë¡¤
                textarea.focus();
                textarea.scrollTop = textarea.scrollHeight;
                
            } else {
                showNotification('â— ì ìš©í•  í•­ëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”!', 'warning');
            }
        }
        
        function applyHelpChecklist() {
            const checkedItems = [];
            let counter = 1;
            
            document.querySelectorAll('#helpChecklist input[type="checkbox"]:checked').forEach(checkbox => {
                const label = checkbox.nextElementSibling;
                if (label) {
                    checkedItems.push(`${counter}) ${label.textContent.trim()}`);
                    counter++;
                }
            });
            
            if (checkedItems.length > 0) {
                const textarea = document.getElementById('help-textarea');
                const currentText = textarea.value.trim();
                const newText = checkedItems.join('\n');
                
                if (currentText) {
                    textarea.value = currentText + '\n\n' + newText;
                } else {
                    textarea.value = newText;
                }
                
                // ì²´í¬ë°•ìŠ¤ ì´ˆê¸°í™”
                document.querySelectorAll('#helpChecklist input[type="checkbox"]').forEach(cb => cb.checked = false);
                
                // ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
                updateAdvicePreview();
                
                // ê¸€ììˆ˜ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
                updateCharacterCounter('help');
                
                // ì„±ê³µ ì•Œë¦¼
                showNotification('ğŸ¯ ì„ íƒí•œ ë°©ë²•ë“¤ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!');
                
                // í…ìŠ¤íŠ¸ ì˜ì—­ì— í¬ì»¤ìŠ¤ ë° ìŠ¤í¬ë¡¤
                textarea.focus();
                textarea.scrollTop = textarea.scrollHeight;
                
            } else {
                showNotification('â— ì ìš©í•  í•­ëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”!', 'warning');
            }
        }

        // ğŸ†• ê¸€ììˆ˜ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
        function updateCharacterCounter(type) {
            const textarea = document.getElementById(`${type}-textarea`);
            const counter = document.getElementById(`${type}-counter`);
            
            if (textarea && counter) {
                const count = textarea.value.length;
                counter.textContent = `${count}ì`;
                
                // ê¸€ììˆ˜ì— ë”°ë¥¸ ìƒ‰ìƒ ë³€ê²½
                if (count > 500) {
                    counter.style.color = '#ef4444'; // ë¹¨ê°„ìƒ‰
                } else if (count > 300) {
                    counter.style.color = '#f59e0b'; // ì£¼í™©ìƒ‰
                } else {
                    counter.style.color = '#6b7280'; // íšŒìƒ‰
                }
            }
        }

        // ğŸ†• ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ˆê¸°í™”
        function initializeTextareaListeners() {
            // ìƒê°í•´ë³¼ ì  textarea
            const thinkingTextarea = document.getElementById('thinking-textarea');
            if (thinkingTextarea) {
                thinkingTextarea.addEventListener('input', () => {
                    updateAdvicePreview();
                    updateCharacterCounter('thinking');
                });
                thinkingTextarea.addEventListener('paste', () => {
                    setTimeout(() => {
                        updateAdvicePreview();
                        updateCharacterCounter('thinking');
                    }, 10);
                });
            }
            
            // í–‰ë™ ì•„ì´ë””ì–´ textarea
            const helpTextarea = document.getElementById('help-textarea');
            if (helpTextarea) {
                helpTextarea.addEventListener('input', () => {
                    updateAdvicePreview();
                    updateCharacterCounter('help');
                });
                helpTextarea.addEventListener('paste', () => {
                    setTimeout(() => {
                        updateAdvicePreview();
                        updateCharacterCounter('help');
                    }, 10);
                });
            }
        }

        // ğŸ†• ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê¸°
        async function saveAsImage() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            
            try {
                // ë¡œë”© ìƒíƒœ í‘œì‹œ
                btn.innerHTML = '<div class="spinner"></div>ì´ë¯¸ì§€ ìƒì„± ì¤‘...';
                btn.disabled = true;
                
                // ìº¡ì²˜í•  ì˜ì—­ ì„ íƒ
                const finalResult = document.getElementById('finalResult');
                
                // html2canvas ì˜µì…˜ ì„¤ì •
                const canvas = await html2canvas(finalResult, {
                    backgroundColor: '#ffffff',
                    scale: 2, // ê³ í•´ìƒë„
                    useCORS: true,
                    allowTaint: true,
                    scrollX: 0,
                    scrollY: 0,
                    width: finalResult.scrollWidth,
                    height: finalResult.scrollHeight
                });
                
                // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
                const link = document.createElement('a');
                link.download = `ABCìƒë‹´ê²°ê³¼_${document.getElementById('studentName').value}_${new Date().toLocaleDateString('ko-KR')}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                
                showNotification('ğŸ–¼ï¸ ì´ë¯¸ì§€ íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
                
            } catch (error) {
                console.error('ì´ë¯¸ì§€ ì €ì¥ ì˜¤ë¥˜:', error);
                showNotification('â— ì´ë¯¸ì§€ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            } finally {
                // ë²„íŠ¼ ì›ë˜ ìƒíƒœë¡œ ë³µêµ¬
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // ğŸ†• PDFë¡œ ì €ì¥í•˜ê¸°
        async function saveAsPDF() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            
            try {
                // ë¡œë”© ìƒíƒœ í‘œì‹œ
                btn.innerHTML = '<div class="spinner"></div>PDF ìƒì„± ì¤‘...';
                btn.disabled = true;
                
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                
                // ìº¡ì²˜í•  ì˜ì—­
                const finalResult = document.getElementById('finalResult');
                
                // html2canvasë¡œ ì´ë¯¸ì§€ ìƒì„±
                const canvas = await html2canvas(finalResult, {
                    backgroundColor: '#ffffff',
                    scale: 1.5,
                    useCORS: true
                });
                
                const imgData = canvas.toDataURL('image/png');
                const imgWidth = 190; // A4 ìš©ì§€ í­ì— ë§ì¶¤ (ì—¬ë°± ê³ ë ¤)
                const pageHeight = 297; // A4 ìš©ì§€ ë†’ì´
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                let heightLeft = imgHeight;
                let position = 10; // ìƒë‹¨ ì—¬ë°±
                
                // ì²« í˜ì´ì§€ì— ì´ë¯¸ì§€ ì¶”ê°€
                pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
                heightLeft -= pageHeight;
                
                // ì´ë¯¸ì§€ê°€ í•œ í˜ì´ì§€ë¥¼ ë„˜ì–´ê°€ë©´ ì¶”ê°€ í˜ì´ì§€ ìƒì„±
                while (heightLeft >= 0) {
                    position = heightLeft - imgHeight + 10;
                    pdf.addPage();
                    pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                }
                
                // PDF ë‹¤ìš´ë¡œë“œ
                const fileName = `ABCìƒë‹´ê²°ê³¼_${document.getElementById('studentName').value}_${new Date().toLocaleDateString('ko-KR')}.pdf`;
                pdf.save(fileName);
                
                showNotification('ğŸ“‹ PDF íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
                
            } catch (error) {
                console.error('PDF ì €ì¥ ì˜¤ë¥˜:', error);
                showNotification('â— PDF ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            } finally {
                // ë²„íŠ¼ ì›ë˜ ìƒíƒœë¡œ ë³µêµ¬
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // ì´ˆê¸°í™”
        function init() {
            renderWorryCategories();
            renderEmotionButtons();
            renderCommitmentOptions();
            loadSituationBasedChecklists('ìˆ˜ì—… ì°¸ì—¬'); // ê¸°ë³¸ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¡œë“œ
            
            // ğŸ†• ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ˆê¸°í™”
            initializeTextareaListeners();
            
            // ë‹¨ê³„ ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.querySelectorAll('.step-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const step = parseInt(this.dataset.step);
                    if (!this.classList.contains('disabled')) {
                        goToStep(step);
                    }
                });
            });

            // ì…ë ¥ í•„ë“œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
            document.getElementById('studentName').addEventListener('input', updateSelectedWorryDisplay);
            document.getElementById('teacherName').addEventListener('input', updateSelectedWorryDisplay);
        }

        // ê³ ë¯¼ ì¹´í…Œê³ ë¦¬ ë Œë”ë§
        function renderWorryCategories() {
            const container = document.getElementById('worryCategories');
            container.innerHTML = '';
            
            Object.keys(worryCases).forEach(category => {
                const div = document.createElement('div');
                div.className = 'worry-card';
                div.onclick = () => selectWorryCategory(category);
                div.innerHTML = `
                    <h3 class="font-semibold text-gray-800 mb-2">${category}</h3>
                    <p class="text-sm text-gray-600">${worryCases[category].length}ê°œì˜ ì‚¬ë¡€</p>
                `;
                container.appendChild(div);
            });
        }

        // ê°ì • ë²„íŠ¼ ë Œë”ë§
        function renderEmotionButtons() {
            const container = document.getElementById('emotionButtons');
            container.innerHTML = '';
            
            emotions.forEach(emotion => {
                const button = document.createElement('button');
                button.className = 'emotion-btn';
                button.onclick = () => selectEmotion(emotion);
                button.innerHTML = `
                    <div class="text-3xl mb-2">${emotion.emoji}</div>
                    <div class="font-medium">${emotion.name}</div>
                `;
                container.appendChild(button);
            });
        }

        // ì‹¤ì²œ ì•½ì† ì˜µì…˜ ë Œë”ë§
        function renderCommitmentOptions() {
            const container = document.getElementById('commitmentOptions');
            container.innerHTML = '';
            
            commitmentOptions.forEach((option, index) => {
                const label = document.createElement('label');
                label.className = 'flex items-center space-x-2 cursor-pointer p-2 rounded hover:bg-indigo-50';
                label.innerHTML = `
                    <input type="checkbox" value="${index}" onchange="toggleCommitment(${index})" class="rounded">
                    <span class="text-sm">${option}</span>
                `;
                container.appendChild(label);
            });
        }

        // ğŸ“ ìƒí™©ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¡œë“œ
        function loadSituationBasedChecklists(category) {
            const normalizedCategory = category || 'ìˆ˜ì—… ì°¸ì—¬';
            const checklistData = situationBasedChecklists[normalizedCategory] || situationBasedChecklists['ìˆ˜ì—… ì°¸ì—¬'];
            
            // ìƒê° ì²´í¬ë¦¬ìŠ¤íŠ¸
            const thinkingContainer = document.getElementById('thinkingChecklist');
            if (thinkingContainer) {
                thinkingContainer.innerHTML = checklistData.thinking.map((item, index) => `
                    <div class="checklist-item">
                        <input type="checkbox" id="thinking-${index}" class="thinking-checkbox">
                        <label for="thinking-${index}">${item}</label>
                    </div>
                `).join('');
            }
            
            // í–‰ë™ ì²´í¬ë¦¬ìŠ¤íŠ¸
            const helpContainer = document.getElementById('helpChecklist');
            if (helpContainer) {
                helpContainer.innerHTML = checklistData.help.map((item, index) => `
                    <div class="checklist-item">
                        <input type="checkbox" id="help-${index}" class="help-checkbox">
                        <label for="help-${index}">${item}</label>
                    </div>
                `).join('');
            }

            showNotification(`ğŸ“š "${normalizedCategory}" ë§ì¶¤ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!`);
        }

        // ê³ ë¯¼ ì¹´í…Œê³ ë¦¬ ì„ íƒ
        function selectWorryCategory(category) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            document.querySelectorAll('.worry-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ í‘œì‹œ
            event.target.closest('.worry-card').classList.add('selected');
            
            selectedCategory = category;
            
            // ìƒí™© ì„ íƒ í™”ë©´ìœ¼ë¡œ ì „í™˜
            document.getElementById('categorySelection').classList.add('hidden');
            document.getElementById('situationSelection').classList.remove('hidden');
            document.getElementById('selectedCategoryTitle').textContent = `${category} ê´€ë ¨ ê³ ë¯¼`;
            
            // êµ¬ì²´ì  ìƒí™© ëª©ë¡ ë Œë”ë§
            renderSituationList(category);
            
            // í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¡œë“œ
            loadSituationBasedChecklists(category);
        }

        // êµ¬ì²´ì  ìƒí™© ëª©ë¡ ë Œë”ë§
        function renderSituationList(category) {
            const container = document.getElementById('situationList');
            container.innerHTML = '';
            
            worryCases[category].forEach((situation, index) => {
                const div = document.createElement('div');
                div.className = 'situation-card';
                div.onclick = () => selectSpecificSituation(category, situation, index);
                div.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm">
                            ${index + 1}
                        </div>
                        <div class="flex-1">
                            <p class="text-gray-800 font-medium">${situation.text}</p>
                            <div class="mt-2 text-sm text-gray-600">
                                <div class="grid grid-cols-3 gap-2">
                                    <div><span class="font-semibold text-red-600">A:</span> ${situation.abc.a.substring(0, 20)}...</div>
                                    <div><span class="font-semibold text-yellow-600">B:</span> ${situation.abc.b.substring(0, 20)}...</div>
                                    <div><span class="font-semibold text-blue-600">C:</span> ${situation.abc.c.substring(0, 20)}...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // êµ¬ì²´ì  ìƒí™© ì„ íƒ
        function selectSpecificSituation(category, situation, index) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            document.querySelectorAll('.situation-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ í‘œì‹œ
            event.target.closest('.situation-card').classList.add('selected');
            
            selectedWorry = { category, case: situation, index };
            
            // ABC í•„ë“œ ì±„ìš°ê¸°
            fillABCFields(situation.abc);
            
            // ì§ì ‘ ì…ë ¥ í…ìŠ¤íŠ¸ ì´ˆê¸°í™”
            document.getElementById('customWorry').value = '';
            
            // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('step2Next').disabled = false;
            
            showNotification('ğŸ“ ê³ ë¯¼ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ğŸ¤– ì§ì ‘ ì…ë ¥ ì²˜ë¦¬ (ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜ ì ìš©)
        function checkCustomWorryInput() {
            const customWorry = document.getElementById('customWorry').value.trim();
            const nextBtn = document.getElementById('step2Next');
            
            if (customWorry.length > 0 && selectedCategory) {
                // ğŸ¤– ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜ ì‹¤í–‰
                detectedCategory = classifyCategory(customWorry);
                
                // ë¶„ë¥˜ ê²°ê³¼ í‘œì‹œ
                if (detectedCategory !== selectedCategory) {
                    const badge = document.getElementById('detectedCategoryBadge');
                    badge.textContent = `ğŸ¤– "${detectedCategory}"ë¡œ ìë™ ë¶„ë¥˜ë¨`;
                    badge.classList.remove('hidden');
                    
                    // ê°ì§€ëœ ì¹´í…Œê³ ë¦¬ë¡œ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
                    loadSituationBasedChecklists(detectedCategory);
                    
                    showNotification(`ğŸ¤– ì…ë ¥ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ "${detectedCategory}" ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜í–ˆìŠµë‹ˆë‹¤!`);
                }
                
                // ê¸°ì¡´ ìƒí™© ì„ íƒ í•´ì œ
                document.querySelectorAll('.situation-card').forEach(card => {
                    card.classList.remove('selected');
                });
                selectedWorry = null;
                nextBtn.disabled = false;
            } else if (selectedWorry) {
                nextBtn.disabled = false;
            } else {
                nextBtn.disabled = true;
            }
        }

        // ì¹´í…Œê³ ë¦¬ ì„ íƒìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function backToCategories() {
            document.getElementById('situationSelection').classList.add('hidden');
            document.getElementById('categorySelection').classList.remove('hidden');
            document.getElementById('detectedCategoryBadge').classList.add('hidden');
            
            // ì„ íƒ ì´ˆê¸°í™”
            selectedWorry = null;
            selectedCategory = null;
            detectedCategory = null;
            document.getElementById('customWorry').value = '';
            document.getElementById('step2Next').disabled = true;
            
            // ì¹´í…Œê³ ë¦¬ ì„ íƒ í•´ì œ
            document.querySelectorAll('.worry-card').forEach(card => {
                card.classList.remove('selected');
            });
        }

        // ABC í•„ë“œ ì±„ìš°ê¸°
        function fillABCFields(abc) {
            document.getElementById('factA').value = abc.a;
            document.getElementById('beliefB').value = abc.b;
            document.getElementById('consequenceC').value = abc.c;
        }

        // ê°ì • ì„ íƒ
        function selectEmotion(emotion) {
            // ê¸°ì¡´ ì„ íƒ í•´ì œ
            document.querySelectorAll('.emotion-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ í‘œì‹œ
            event.target.closest('.emotion-btn').classList.add('selected');
            
            selectedEmotion = emotion;
            
            // ê³µê° ë©”ì‹œì§€ í‘œì‹œ
            document.getElementById('empathyText').textContent = emotion.empathy;
            document.getElementById('empathyMessage').classList.remove('hidden');
            
            // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('step4Next').disabled = false;
            
            showNotification('ğŸ’š ê°ì •ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ê²©ë ¤ ë©”ì‹œì§€ ë½‘ê¸°
        function drawEncouragementMessage() {
            const randomIndex = Math.floor(Math.random() * encouragementMessages.length);
            const message = encouragementMessages[randomIndex];
            
            document.getElementById('encouragementText').textContent = message;
            document.getElementById('encouragementCard').classList.remove('hidden');
            
            showNotification('ğŸ’Œ ë”°ëœ»í•œ ê²©ë ¤ ë©”ì‹œì§€ê°€ ë„ì°©í–ˆì–´ìš”!');
        }

        // ì‹¤ì²œ ì•½ì† í† ê¸€
        function toggleCommitment(index) {
            const checkbox = event.target;
            if (checkbox.checked) {
                selectedCommitments.push(commitmentOptions[index]);
            } else {
                selectedCommitments = selectedCommitments.filter(c => c !== commitmentOptions[index]);
            }
        }

        // ë‹¨ê³„ ì´ë™ í•¨ìˆ˜
        function goToStep(targetStep) {
            // í˜„ì¬ ë‹¨ê³„ ìˆ¨ê¸°ê¸°
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            document.getElementById(`step${currentStep}`).classList.remove('active');
            
            // íƒ€ê²Ÿ ë‹¨ê³„ ë³´ì´ê¸°
            document.getElementById(`step${targetStep}`).classList.remove('hidden');
            document.getElementById(`step${targetStep}`).classList.add('active');
            document.getElementById(`step${targetStep}`).scrollIntoView({ behavior: 'smooth' });
            
            // ë‹¨ê³„ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.step-btn').forEach((btn, index) => {
                const btnStep = index + 1;
                btn.classList.remove('active');
                
                if (btnStep === targetStep) {
                    btn.classList.add('active');
                }
                
                if (btnStep < targetStep) {
                    btn.classList.remove('disabled');
                    btn.classList.add('completed');
                } else if (btnStep > targetStep) {
                    btn.classList.add('disabled');
                    btn.classList.remove('completed');
                }
            });
            
            currentStep = targetStep;
            
            // ğŸ†• ì„ íƒëœ ê³ ë¯¼ ì§€ì† í‘œì‹œ ì—…ë°ì´íŠ¸
            updateSelectedWorryDisplay();
            
            showNotification(`ğŸ“ ${targetStep}ë‹¨ê³„ë¡œ ì´ë™í–ˆìŠµë‹ˆë‹¤!`);
        }

        // ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™
        function nextStep(step) {
            // ìœ íš¨ì„± ê²€ì‚¬
            if (step === 1) {
                const studentName = document.getElementById('studentName').value.trim();
                const teacherName = document.getElementById('teacherName').value.trim();
                if (!studentName || !teacherName) {
                    showNotification('â— í•™ìƒ ì´ë¦„ê³¼ ì„ ìƒë‹˜ ì´ë¦„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
            }
            
            if (step === 2) {
                const customWorry = document.getElementById('customWorry').value.trim();
                if (!selectedWorry && !customWorry) {
                    showNotification('â— êµ¬ì²´ì ì¸ ìƒí™©ì„ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
                
                // ğŸ¤– ì§ì ‘ ì…ë ¥í•œ ê²½ìš° ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜ ì ìš©
                if (customWorry && selectedCategory) {
                    const finalCategory = detectedCategory || selectedCategory;
                    selectedWorry = { 
                        category: finalCategory, 
                        case: { 
                            text: customWorry, 
                            abc: { 
                                a: customWorry, 
                                b: "ì´ëŸ° ìƒí™©ì—ì„œ ë“œëŠ” ìƒê°", 
                                c: "ê²°ê³¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ê°ì •ê³¼ í–‰ë™" 
                            } 
                        },
                        isCustom: true
                    };
                    
                    // ABC í•„ë“œ ì´ˆê¸°í™”
                    document.getElementById('factA').value = customWorry;
                    document.getElementById('beliefB').value = "";
                    document.getElementById('consequenceC').value = "";
                }
                
                if (!selectedWorry) {
                    showNotification('â— ê³ ë¯¼ ë¶„ì•¼ë¥¼ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
            }
            
            // 6ë‹¨ê³„ì—ì„œ ì™„ì„±í•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ 7ë‹¨ê³„ë¡œ ì´ë™í•˜ë©´ì„œ ìµœì¢… ê²°ê³¼ ìƒì„±
            if (step === 6) {
                generateFinalResult();
            }
            
            goToStep(step + 1);
        }

        // ì´ì „ ë‹¨ê³„ë¡œ ì´ë™
        function prevStep(step) {
            goToStep(step - 1);
        }

        // ìµœì¢… ê²°ê³¼ ìƒì„±
        function generateFinalResult() {
            const studentName = document.getElementById('studentName').value;
            const teacherName = document.getElementById('teacherName').value;
            const personalMessage = document.getElementById('personalMessage').value;
            
            let resultHTML = `
                <div class="text-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">ğŸŒŸ ${studentName}ì˜ ìƒë‹´ ê²°ê³¼</h3>
                    <p class="text-lg text-gray-600">${teacherName}ì„ ìœ„í•œ ë”°ëœ»í•œ ì¡°ì–¸</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <h4 class="font-semibold text-gray-800 mb-2">ğŸ“‚ ê³ ë¯¼ ë¶„ì•¼</h4>
                        <p class="text-gray-600">${selectedCategory}</p>
                        ${detectedCategory && detectedCategory !== selectedCategory ? 
                            `<p class="text-sm text-green-600 mt-1">ğŸ¤– ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜: ${detectedCategory}</p>` : ''}
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <h4 class="font-semibold text-gray-800 mb-2">ğŸ’– ì„ íƒí•œ ê°ì •</h4>
                        <p class="text-gray-600">${selectedEmotion?.emoji} ${selectedEmotion?.name}</p>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg p-4 border border-gray-200 mt-4">
                    <h4 class="font-semibold text-gray-800 mb-2">ğŸ“ ê³ ë¯¼ ìƒí™©</h4>
                    <p class="text-gray-600">${selectedWorry?.case.text || 'ì§ì ‘ ì…ë ¥í•œ ê³ ë¯¼'}</p>
                </div>
                
                <div class="bg-white rounded-lg p-4 border border-gray-200 mt-4">
                    <h4 class="font-semibold text-gray-800 mb-2">ğŸ¯ í•™ìƒì˜ ì¡°ì–¸</h4>
                    ${document.getElementById('adviceText').innerHTML || '<p class="text-gray-500">ì‘ì„±ëœ ì¡°ì–¸ì´ ì—†ìŠµë‹ˆë‹¤.</p>'}
                </div>
            `;
            
            if (document.getElementById('encouragementText').textContent) {
                resultHTML += `
                    <div class="bg-yellow-50 rounded-lg p-4 border border-yellow-200 mt-4">
                        <h4 class="font-semibold text-yellow-800 mb-2">ğŸ’Œ ê²©ë ¤ ë©”ì‹œì§€</h4>
                        <p class="text-gray-700">${document.getElementById('encouragementText').textContent}</p>
                    </div>
                `;
            }
            
            if (personalMessage) {
                resultHTML += `
                    <div class="bg-pink-50 rounded-lg p-4 border border-pink-200 mt-4">
                        <h4 class="font-semibold text-pink-800 mb-2">âœï¸ ê°œì¸ ë©”ì‹œì§€</h4>
                        <p class="text-gray-700">${personalMessage}</p>
                    </div>
                `;
            }
            
            if (selectedCommitments.length > 0) {
                resultHTML += `
                    <div class="bg-indigo-50 rounded-lg p-4 border border-indigo-200 mt-4">
                        <h4 class="font-semibold text-indigo-800 mb-2">ğŸ¤ ìš°ë¦¬ì˜ ì•½ì†</h4>
                        <ul class="list-disc list-inside text-gray-700">
                            ${selectedCommitments.map(c => `<li>${c}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }
            
            document.getElementById('finalResult').innerHTML = resultHTML;
        }

        // í…ìŠ¤íŠ¸ë¡œ ì €ì¥
        function saveAsText() {
            const studentName = document.getElementById('studentName').value;
            const teacherName = document.getElementById('teacherName').value;
            const date = new Date().toLocaleDateString('ko-KR');
            
            let content = `ABC êµì‚¬ ìƒë‹´ ê²°ê³¼\n`;
            content += `ìƒë‹´ì¼: ${date}\n`;
            content += `ìƒë‹´ í•™ìƒ: ${studentName}\n`;
            content += `ìƒë‹´ ëŒ€ìƒ: ${teacherName}\n\n`;
            
            content += `[ê³ ë¯¼ ë¶„ì•¼]\n${selectedCategory}\n`;
            if (detectedCategory && detectedCategory !== selectedCategory) {
                content += `ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜: ${detectedCategory}\n`;
            }
            content += `\n[ê³ ë¯¼ ìƒí™©]\n${selectedWorry?.case.text || 'ì§ì ‘ ì…ë ¥í•œ ê³ ë¯¼'}\n\n`;
            
            content += `[ABC ë¶„ì„]\n`;
            content += `A (ì‚¬ì‹¤): ${document.getElementById('factA').value}\n`;
            content += `B (ìƒê°): ${document.getElementById('beliefB').value}\n`;
            content += `C (ê²°ê³¼): ${document.getElementById('consequenceC').value}\n\n`;
            
            content += `[ê°ì •]: ${selectedEmotion?.name}\n\n`;
            
            // ì¡°ì–¸ ë‚´ìš© ì¶”ê°€
            const thinkingText = document.getElementById('thinking-textarea')?.value;
            const helpText = document.getElementById('help-textarea')?.value;
            
            if (thinkingText || helpText) {
                content += `[í•™ìƒì˜ ì¡°ì–¸]\n`;
                if (thinkingText) {
                    content += `ìƒê°í•´ë³¼ ì :\n${thinkingText}\n\n`;
                }
                if (helpText) {
                    content += `ì‹œë„í•´ë³¼ ë°©ë²•:\n${helpText}\n\n`;
                }
            }
            
            const encouragement = document.getElementById('encouragementText').textContent;
            if (encouragement) {
                content += `[ê²©ë ¤ ë©”ì‹œì§€]\n${encouragement}\n\n`;
            }
            
            const personalMessage = document.getElementById('personalMessage').value;
            if (personalMessage) {
                content += `[ê°œì¸ ë©”ì‹œì§€]\n${personalMessage}\n\n`;
            }
            
            if (selectedCommitments.length > 0) {
                content += `[ìš°ë¦¬ì˜ ì•½ì†]\n`;
                selectedCommitments.forEach(c => content += `- ${c}\n`);
            }
            
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ABCìƒë‹´ê²°ê³¼_${studentName}_${date}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('ğŸ“„ íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ì¸ì‡„
        function printResult() {
            window.print();
        }

        // í¼ ë¦¬ì…‹
        function resetForm() {
            if (confirm('ì •ë§ ìƒˆë¡œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ëª¨ë“  ë‚´ìš©ì´ ì‚­ì œë©ë‹ˆë‹¤.')) {
                location.reload();
            }
        }

        // ë„ì›€ë§
        function showHelp() {
            alert(`ABC êµì‚¬ ìƒë‹´ ë„êµ¬ ì‚¬ìš©ë²•:\n\nğŸ†• ìµœì‹  ì—…ê·¸ë ˆì´ë“œ ê¸°ëŠ¥ë“¤:\nâ€¢ ğŸ†• ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸\nâ€¢ ğŸ–¼ï¸ ì´ë¯¸ì§€ë¡œ ì €ì¥ ê¸°ëŠ¥\nâ€¢ ğŸ“‹ PDFë¡œ ì €ì¥ ê¸°ëŠ¥\nâ€¢ ğŸ–¨ï¸ ì¸ì‡„ ìµœì í™”\nâ€¢ ğŸ†• ì„ íƒëœ ê³ ë¯¼ ì§€ì† í‘œì‹œ (3ë‹¨ê³„ë¶€í„°)\nâ€¢ ğŸ¨ ê°œì„ ëœ ë‹¨ê³„ë³„ ë„¤ë¹„ê²Œì´ì…˜\nâ€¢ ğŸ¤– ìŠ¤ë§ˆíŠ¸ ìë™ ë¶„ë¥˜\nâ€¢ ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì ìš© ê¸°ëŠ¥\nâ€¢ í–¥ìƒëœ ë°˜ì‘í˜• ë””ìì¸\nâ€¢ ì ‘ê·¼ì„± ê°œì„ \n\n1. í•™ìƒê³¼ ì„ ìƒë‹˜ ì´ë¦„ì„ ì…ë ¥í•©ë‹ˆë‹¤\n2. ì„ ìƒë‹˜ì˜ ê³ ë¯¼ ìƒí™©ì„ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥í•©ë‹ˆë‹¤\n3. ABC ëª¨ë¸ë¡œ ìƒí™©ì„ ë¶„ì„í•©ë‹ˆë‹¤ (ê³ ë¯¼ ì •ë³´ ì§€ì† í‘œì‹œ)\n4. ì„ ìƒë‹˜ì˜ ê°ì •ì— ê³µê°í•©ë‹ˆë‹¤\n5. í•™ìƒì˜ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤\n6. ê²©ë ¤ ë©”ì‹œì§€ì™€ ì‹¤ì²œ ì•½ì†ì„ ì •í•©ë‹ˆë‹¤\n7. ê²°ê³¼ë¥¼ í…ìŠ¤íŠ¸/PDF/ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê±°ë‚˜ ì¸ì‡„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n\nâœ¨ ìƒˆë¡œìš´ ì €ì¥ ë° ì¸ì‡„ ìµœì í™” ê¸°ëŠ¥ì„ ì²´í—˜í•´ë³´ì„¸ìš”!`);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = init;
    </script>
</body>
</html>
